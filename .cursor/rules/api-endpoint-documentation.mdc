---
description: 
globs: 
alwaysApply: true
---

# API Documentation

{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Customer","description":"Customer management APIs"}],"paths":{"/truck/{truck_id}":{"put":{"tags":["truck-controller"],"operationId":"updateTruck","parameters":[{"name":"truck_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TruckDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TruckDTO"}}}}}},"delete":{"tags":["truck-controller"],"operationId":"deleteTruck","parameters":[{"name":"truck_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"204":{"description":"No Content"}}}},"/item/{item_id}":{"put":{"tags":["item-controller"],"operationId":"updateItem","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ItemDTO"}}}}}},"delete":{"tags":["item-controller"],"operationId":"deleteItem","parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"204":{"description":"No Content"}}}},"/customer/{customer_id}":{"put":{"tags":["Customer"],"summary":"Update an existing customer","operationId":"updateCustomer","parameters":[{"name":"customer_id","in":"path","description":"ID of the customer to update","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerDTO"}}},"required":true},"responses":{"200":{"description":"Customer updated successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CustomerDTO"}}}},"404":{"description":"Customer not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CustomerDTO"}}}},"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CustomerDTO"}}}}}},"delete":{"tags":["Customer"],"summary":"Delete a customer","operationId":"deleteCustomer","parameters":[{"name":"customer_id","in":"path","description":"ID of the customer to delete","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"204":{"description":"Customer deleted successfully"},"404":{"description":"Customer not found"}}}},"/user":{"get":{"tags":["user-controller"],"operationId":"listAll","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"}}}}}}},"post":{"tags":["user-controller"],"operationId":"addUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRequest"}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}}}},"/truck":{"get":{"tags":["truck-controller"],"operationId":"getTrucks","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TruckDTO"}}}}}}},"post":{"tags":["truck-controller"],"operationId":"addTruck","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TruckDTO"}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TruckDTO"}}}}}}},"/orders":{"get":{"tags":["order-controller"],"operationId":"getOrders","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageOrderDTO"}}}}}},"post":{"tags":["order-controller"],"operationId":"createOrder","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderDTO"}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrderDTO"}}}}}}},"/orders/{orderId}/truck":{"post":{"tags":["order-controller"],"operationId":"assignTruckToOrder","parameters":[{"name":"orderId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrderDTO"}}}}}}},"/orders/{orderId}/deliver":{"post":{"tags":["order-controller"],"operationId":"markOrderAsDelivered","parameters":[{"name":"orderId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OrderDTO"}}}}}}},"/item":{"get":{"tags":["item-controller"],"operationId":"getItems","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ItemDTO"}}}}}}},"post":{"tags":["item-controller"],"operationId":"addItem","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemDTO"}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ItemDTO"}}}}}}},"/item/list":{"get":{"tags":["item-controller"],"operationId":"getItemsPaged","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageItemDTO"}}}}}},"post":{"tags":["item-controller"],"operationId":"addListOfItems","requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ItemDTO"}}}},"required":true},"responses":{"201":{"description":"Created","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ItemDTO"}}}}}}}},"/customer":{"post":{"tags":["Customer"],"summary":"Create a new customer","operationId":"addCustomer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerDTO"}}},"required":true},"responses":{"201":{"description":"Customer created successfully","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CustomerDTO"}}}},"400":{"description":"Invalid input","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CustomerDTO"}}}}}}},"/customer/list":{"get":{"tags":["Customer"],"summary":"Get paginated list of customers","operationId":"getCustomersPaged","parameters":[{"name":"pageable","in":"query","description":"Pagination parameters","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"Successfully retrieved customer list","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageCustomerDTO"}}}}}},"post":{"tags":["Customer"],"summary":"Create multiple customers","operationId":"addListOfCustomers","requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CustomerDTO"}}}},"required":true},"responses":{"400":{"description":"Invalid input","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CustomerDTO"}}}}},"201":{"description":"Customers created successfully","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CustomerDTO"}}}}}}}},"/auth":{"post":{"tags":["auth-controller"],"operationId":"authenticate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthenticationResponse"}}}}}}},"/auth/refresh":{"post":{"tags":["auth-controller"],"operationId":"refreshAccessToken","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}}}}},"/user/{uuid}":{"get":{"tags":["user-controller"],"operationId":"findByUuid","parameters":[{"name":"uuid","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}},"delete":{"tags":["user-controller"],"operationId":"deleteByUuid","parameters":[{"name":"uuid","in":"path","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK"}}}},"/orders/truck/{truckId}":{"get":{"tags":["order-controller"],"operationId":"getOrdersByTruckIdAndDate","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}},{"name":"truckId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"deliveryDate","in":"query","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/orders/pending":{"get":{"tags":["order-controller"],"operationId":"getPendingOrders","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrderDTO"}}}}}}}},"/orders/delivered":{"get":{"tags":["order-controller"],"operationId":"getDeliveredOrders","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrderDTO"}}}}}}}},"/orders/customer":{"get":{"tags":["order-controller"],"operationId":"getOrdersByCustomer","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}},{"name":"phoneNumber","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageOrderDTO"}}}}}}},"/orders/customer/orders":{"get":{"tags":["order-controller"],"operationId":"getOrdersByCustomerPaged","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}},{"name":"phoneNumber","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageOrderDTO"}}}}}}},"/customer/by-phone/{phone_number}":{"get":{"tags":["Customer"],"summary":"Search customer by exact phone number match","operationId":"getCustomerByPhoneNumber","parameters":[{"name":"phone_number","in":"path","description":"Phone number to search for","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"No customer found with given phone number","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CustomerDTO"}}}},"200":{"description":"Successfully retrieved customer","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CustomerDTO"}}}}}}},"/orders/{orderId}":{"delete":{"tags":["order-controller"],"operationId":"cancelOrder","parameters":[{"name":"orderId","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"204":{"description":"No Content"}}}}},"components":{"schemas":{"TruckDTO":{"required":["name"],"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"}}},"ItemDTO":{"required":["category","description","name","price","quantity"],"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"description":{"type":"string"},"price":{"type":"number","format":"double"},"quantity":{"type":"integer","format":"int32"},"category":{"type":"string"}}},"CustomerDTO":{"required":["address","name","phoneNumber","state","type"],"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"address":{"type":"string"},"phoneNumber":{"type":"string"},"type":{"type":"string"},"state":{"type":"string"}},"description":"Customer DTO for update"},"UserRequest":{"required":["email","password","role"],"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"},"role":{"type":"string","enum":["USER","ADMIN"]}}},"UserResponse":{"required":["email","id"],"type":"object","properties":{"id":{"type":"string","format":"uuid"},"email":{"type":"string"}}},"OrderDTO":{"required":["customer","date","items","status","totalPrice","truck"],"type":"object","properties":{"id":{"type":"integer","format":"int32"},"customer":{"$ref":"#/components/schemas/CustomerDTO"},"items":{"type":"array","items":{"$ref":"#/components/schemas/ItemDTO"}},"truck":{"$ref":"#/components/schemas/TruckDTO"},"date":{"type":"string","format":"date"},"totalPrice":{"type":"number","format":"double"},"status":{"type":"string","enum":["PENDING","DELIVERED"]}}},"AuthenticationRequest":{"required":["email","password"],"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"AuthenticationResponse":{"required":["accessToken","refreshToken"],"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"}}},"RefreshTokenRequest":{"required":["token"],"type":"object","properties":{"token":{"type":"string"}}},"TokenResponse":{"required":["token"],"type":"object","properties":{"token":{"type":"string"}}},"Pageable":{"type":"object","properties":{"page":{"minimum":0,"type":"integer","format":"int32"},"size":{"minimum":1,"type":"integer","format":"int32"},"sort":{"type":"array","items":{"type":"string"}}}},"PageOrderDTO":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/OrderDTO"}},"number":{"type":"integer","format":"int32"},"sort":{"type":"array","items":{"$ref":"#/components/schemas/SortObject"}},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"offset":{"type":"integer","format":"int64"},"sort":{"type":"array","items":{"$ref":"#/components/schemas/SortObject"}},"paged":{"type":"boolean"},"unpaged":{"type":"boolean"}}},"SortObject":{"type":"object","properties":{"direction":{"type":"string"},"nullHandling":{"type":"string"},"ascending":{"type":"boolean"},"property":{"type":"string"},"ignoreCase":{"type":"boolean"}}},"PageItemDTO":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/ItemDTO"}},"number":{"type":"integer","format":"int32"},"sort":{"type":"array","items":{"$ref":"#/components/schemas/SortObject"}},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"empty":{"type":"boolean"}}},"PageCustomerDTO":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/CustomerDTO"}},"number":{"type":"integer","format":"int32"},"sort":{"type":"array","items":{"$ref":"#/components/schemas/SortObject"}},"first":{"type":"boolean"},"last":{"type":"boolean"},"numberOfElements":{"type":"integer","format":"int32"},"empty":{"type":"boolean"}}}}}}